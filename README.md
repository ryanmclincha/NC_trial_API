# NC_trial_API

This is a trial API design project for an employment application at New Classrooms Innovation Partners for Learning. It parses random user data generated by https://randomuser.me/api/ and returns relevant statistics in json, xml, and plain text formats based on the "Accept" header specified in the request and can take application/xml, application/json, and multipart/form-data as request content types. 

## Installation

For machines with docker installed it can be ran and installed by entering the command:
```
docker container run -p 5000:5000 --name nc-trial-api ryanmclincha/nc-trial-api
```
From a bash terminal in a virtual environment with pip installed run the following commands:
```
pip install -r requirements.txt
export FLASK_APP=app
run flask
```

## Usage

The application exposes an endpoint of "/NC_trialAPI" on port 5000 on the host machine. Send a post request containing user data from https://randomuser.me/api/

### User Data Format

The data sent to the API should be sent as the file format generated by https://randomuser.me/api/ and the data generated by https://randomuser.me/api/ must include only United States users. This can be done by including "nat=us" parameter in the url of the randomuser api request. If you would like to test NC_trial_API with an xml request you can add the format parameter "format=xml" to the randomuser.me api request. It can also hnadle the max file size generated by 
https://randomuser.me/api/

### Data Request Formats

The application can recieve 'application/json', 'application/xml', and 'multipart/form-data' as request content types as long as the relevant 'Content-Type' header is passed. If sending as a 'multipart/form-data' the application will look for a file part 'file' and will get the content type of the file and process accordingly. Accepted file 'Content-Type' headers for a 'multipart-form-data' request are also 'application/xml' and 'application/json' in the file format generated by https://randomuser.me/api/

### Data Respose Formats

The application will decide which format to respond with based on the 'Accept' header in the request. Supported response formats are 'application/json', 'application/xml', and 'text/plain'. If no relevant 'Accept' header is included in the request the default response will be json format.

### Accessing NC_tial_API endpoint

If hosting the application locally 'POST' requests with the relevant request data can be made to the endpoint 
http://localhost:5000/NC_trialAPI

NC_trial_API is also hosted publicly at the following URL endpoint:
http://node1.ryanmclincha.com:5000/NC_trialAPI

NC_trial_API is currently running on a three node docker swarm and was designed with portability and horizontal scalability in mind. If you would like to test the public API endpoints you can send POST requests with your prefered API test client such as Postman or Insomnia. 




